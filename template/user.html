<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nijitter - „Éó„É≠„Éï„Ç£„Éº„É´</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kiwi+Maru&family=Sawarabi+Gothic&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/css/common.css">
</head>

<body data-api-url="{{ .apiUrl }}" data-image-url="{{ .image_url }}">
    <!-- Mobile View -->
    <div class="mobile-view">
        <div class="profile-header">
            <div class="profile-banner">
                <div
                    style="background: var(--color-primary); height: 200px; border-radius: 0 0 var(--radius-lg) var(--radius-lg); position: relative;">
                </div>
                <div class="profile-avatar-container">
                    <div class="avatar avatar-large" id="mobileProfileAvatar">üë§</div>
                </div>
            </div>

            <div class="profile-info">
                <h2 class="profile-name" id="mobileProfileName">„É¶„Éº„Ç∂„Éº</h2>
                <p class="profile-id" id="mobileProfileId">@user</p>
                <p class="profile-bio" id="mobileProfileBio">Ëá™Â∑±Á¥π‰ªãÊñá</p>
                <div class="profile-stats">
                    <div class="stat-item">
                        <div class="stat-count" id="mobileFollowerCount">0</div>
                        <div class="stat-label">„Éï„Ç©„É≠„ÉØ„Éº</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-count" id="mobileFollowingCount">0</div>
                        <div class="stat-label">„Éï„Ç©„É≠„Éº‰∏≠</div>
                    </div>
                </div>
                <button class="btn btn-follow" id="mobileFollowBtn" style="margin-top: 16px;">„Éï„Ç©„É≠„Éº</button>
                <!-- Ëá™ÂàÜ„ÅÆ„Éö„Éº„Ç∏„ÅÆ„ÅøË°®Á§∫: Á∑®ÈõÜ„Éú„Çø„É≥Ôºà„É¢„Éº„ÉÄ„É´Ë°®Á§∫Ôºâ -->
                <button class="btn btn-secondary" id="mobileEditOpen"
                    style="margin-top: 8px; display: none;">„Éó„É≠„Éï„Ç£„Éº„É´„ÇíÁ∑®ÈõÜ</button>
            </div>
        </div>

        <div id="mobileUserPosts"></div>

        <nav class="mobile-nav">
            <button class="nav-icon" id="mobileHomeBtn" title="„Éõ„Éº„É†">üè†</button>
            <button class="nav-icon" id="mobileSearchBtn" title="Ê§úÁ¥¢">üîç</button>
            <button class="nav-icon" id="mobileNotificationBtn" title="ÈÄöÁü•">
                üîî
                <span class="notification-badge" id="mobileNotificationBadge" style="display: none;">0</span>
            </button>
        </nav>
    </div>

    <!-- Desktop View -->
    <div class="desktop-view">
        <div class="desktop-container">
            <aside class="sidebar">
                <div class="sidebar-header">
                    <div class="avatar avatar-small" id="desktopUserAvatar">üë§</div>
                    <div class="sidebar-user-info">
                        <div class="sidebar-name" id="desktopUserName">„É¶„Éº„Ç∂„Éº</div>
                        <div class="sidebar-id" id="desktopUserId">@user</div>
                    </div>
                </div>

                <nav class="sidebar-nav">
                    <div class="sidebar-item" id="desktopHomeBtn">
                        <div class="sidebar-icon">üè†</div>
                        <span>„Éõ„Éº„É†</span>
                    </div>
                    <div class="sidebar-item" id="desktopNotificationBtn">
                        <div class="sidebar-icon">üîî</div>
                        <span>ÈÄöÁü•</span>
                        <span class="notification-badge" id="desktopNotificationBadge" style="display: none;">0</span>
                    </div>
                </nav>

                <div class="logout-section">
                    <button class="logout-btn" id="logoutBtn">„É≠„Ç∞„Ç¢„Ç¶„Éà</button>
                </div>
            </aside>

            <main class="main-content">
                <div class="profile-header">
                    <div class="profile-banner">
                        <div style="background: var(--color-primary); height: 200px; position: relative;"></div>
                        <div class="profile-avatar-container">
                            <div class="avatar avatar-large" id="desktopProfileAvatar">üë§</div>
                        </div>
                    </div>

                    <div class="profile-info">
                        <h2 class="profile-name" id="desktopProfileName">„É¶„Éº„Ç∂„Éº</h2>
                        <p class="profile-id" id="desktopProfileId">@user</p>
                        <p class="profile-bio" id="desktopProfileBio">Ëá™Â∑±Á¥π‰ªãÊñá</p>
                        <div class="profile-stats">
                            <div class="stat-item">
                                <div class="stat-count" id="desktopFollowerCount">0</div>
                                <div class="stat-label">„Éï„Ç©„É≠„ÉØ„Éº</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-count" id="desktopFollowingCount">0</div>
                                <div class="stat-label">„Éï„Ç©„É≠„Éº‰∏≠</div>
                            </div>
                        </div>
                        <button class="btn btn-follow" id="desktopFollowBtn">„Éï„Ç©„É≠„Éº</button>
                        <!-- Ëá™ÂàÜ„ÅÆ„Éö„Éº„Ç∏„ÅÆ„ÅøË°®Á§∫: Á∑®ÈõÜ„Éú„Çø„É≥Ôºà„É¢„Éº„ÉÄ„É´Ë°®Á§∫Ôºâ -->
                        <button class="btn btn-secondary" id="desktopEditOpen"
                            style="margin-top: 8px; display: none;">„Éó„É≠„Éï„Ç£„Éº„É´„ÇíÁ∑®ÈõÜ</button>
                    </div>
                </div>

                <div id="desktopUserPosts"></div>
            </main>

            <aside class="right-panel">
                <div class="search-box">
                    <div class="search-icon">üîç</div>
                    <input type="text" class="search-input" id="searchInput" placeholder="„É¶„Éº„Ç∂„Éº„ÇÑÊäïÁ®ø„ÇíÊ§úÁ¥¢">
                </div>
                <div id="searchResults" class="sidebar-section" style="display: none;">
                    <h3 class="sidebar-section-title">Ê§úÁ¥¢ÁµêÊûú</h3>
                    <div id="searchResultsContent"></div>
                </div>
                <div class="sidebar-section" id="userInfoSection">
                    <h3 class="sidebar-section-title">„É¶„Éº„Ç∂„ÉºÊÉÖÂ†±</h3>
                    <p style="color: var(--color-gray-medium); text-align: center; padding: 24px;">
                        Ë™≠„ÅøËæº„Åø‰∏≠...
                    </p>
                </div>
            </aside>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>„Éó„É≠„Éï„Ç£„Éº„É´„ÇíÁ∑®ÈõÜ</h2>
                <button class="modal-close" id="editModalClose">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group" style="margin-bottom: 8px;">
                    <label>„É¶„Éº„Ç∂„ÉºÂêç</label>
                    <input type="text" id="editUsername" class="form-input" placeholder="„É¶„Éº„Ç∂„ÉºÂêç">
                </div>
                <div class="form-group" style="margin-bottom: 8px;">
                    <label>Ëá™Â∑±Á¥π‰ªã</label>
                    <textarea id="editBio" class="form-input" rows="3" placeholder="Ëá™Â∑±Á¥π‰ªã"></textarea>
                </div>
                <div class="form-group" style="margin-bottom: 8px;">
                    <label>„Çπ„ÉÜ„Éº„Çø„Çπ„É°„ÉÉ„Çª„Éº„Ç∏</label>
                    <input type="text" id="editStatus" class="form-input" placeholder="„Çπ„ÉÜ„Éº„Çø„Çπ„É°„ÉÉ„Çª„Éº„Ç∏">
                </div>
                <div class="form-group" style="margin-bottom: 8px;">
                    <label>„Ç¢„Ç§„Ç≥„É≥ÁîªÂÉè</label>
                    <input type="file" id="editIcon" accept="image/*">
                </div>
                <div id="editFormError" class="error-message"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="editModalCancel">„Ç≠„É£„É≥„Çª„É´</button>
                <button type="button" class="btn btn-primary" id="editModalSave">‰øùÂ≠ò</button>
            </div>
        </div>
    </div>

    <!-- Notification Panel -->
    <div id="notificationPanel" class="notification-panel" style="display: none;">
        <div class="notification-header">
            <h2>ÈÄöÁü•</h2>
            <button class="notification-close" id="notificationClose">√ó</button>
        </div>
        <div class="notification-content" id="notificationContent">
            <div class="loader">Ë™≠„ÅøËæº„Åø‰∏≠...</div>
        </div>
    </div>

    <!-- Search Panel (Mobile) -->
    <div id="searchPanel" class="search-panel" style="display: none;">
        <div class="search-panel-header">
            <button class="back-btn" id="searchBackBtn">‚Üê</button>
            <input type="text" class="search-panel-input" id="mobileSearchInput" placeholder="„É¶„Éº„Ç∂„Éº„ÇÑÊäïÁ®ø„ÇíÊ§úÁ¥¢">
        </div>
        <div class="search-panel-content" id="mobileSearchResults">
            <p style="color: var(--color-gray-medium); text-align: center; padding: 24px;">„Ç≠„Éº„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶Ê§úÁ¥¢</p>
        </div>
    </div>

    <script type="module" src="/static/js/user.main.js?v=20251227-1"></script>
</body>

</html>